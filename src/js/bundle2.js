!function e(t,o,i){function n(s,a){if(!o[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var c=o[s]={exports:{}};t[s][0].call(c.exports,function(e){var o=t[s][1][e];return n(o?o:e)},c,c.exports,e,t,o,i)}return o[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)n(i[s]);return n}({1:[function(e,t,o){var i=e("./models"),n=o;n.Foods=Backbone.Collection.extend({model:i}),n.MyFoods=Backbone.Firebase.Collection.extend({model:i,url:"https://healthtrackingbbone.firebaseio.com"})},{"./models":5}],2:[function(e,t,o){var i=e("./main");t.exports=Backbone.View.extend({tagName:"div",className:"item",template:_.template($("#list-item-template").html()),events:{"click .addButton":"addToMyFoods"},render:function(){return this.$el.html(this.template({item:this.model}))},addToMyFoods:function(e){e.preventDefault(),this.model.set("added",!0),i.myFoods.add(this.model),i.foods.remove(this.model)}})},{"./main":4}],3:[function(e,t,o){t.exports={displayErrorToUser:function(e,t,o){var i=document.createElement("p");i.setAttribute("class","errorMessage"),i.innerHTML=t,e.appendChild(i),setTimeout(function(){for(;e.firstChild;)e.removeChild(e.firstChild)},o)}}},{}],4:[function(e,t,o){"use strict";var i=o=i||{},n=(e("./helpers"),e("./models"),e("./collections").Foods,e("./collections").MyFoods,e("./router"));$(document).ready(function(){$(".ui .item").on("click",function(){$(".ui .item").removeClass("active"),$(this).addClass("active")})}),i.router=new n,Backbone.history.start()},{"./collections":1,"./helpers":3,"./models":5,"./router":9}],5:[function(e,t,o){t.exports=Backbone.Model.extend({defaults:{added:!1}})},{}],6:[function(e,t,o){var i=e("./main");t.exports=Backbone.View.extend({tagName:"div",className:"item",template:_.template($("#list-item-template").html()),events:{"click .removeButton":"removeFromMyFoods"},render:function(){return this.$el.html(this.template({item:this.model}))},removeFromMyFoods:function(e){e.preventDefault(),i.myFoods.remove(this.model)}})},{"./main":4}],7:[function(e,t,o){t.exports=Backbone.View.extend({el:"#main",initialize:function(){this.render()},render:function(){var e=_.template($("#myfoods-header-template").html());this.$el.html(e)}})},{}],8:[function(e,t,o){var i=e("./myFoodItemView");t.exports=Backbone.View.extend({el:"#resultList",initialize:function(){this.listenTo(this.collection,"sync remove",this.render)},render:function(){this.$el.empty();var e,t=this,o=0;"#/myfoods"===window.location.hash&&(_(t.collection.models).each(function(n){e=new i({collection:t.collection,model:n}),t.$el.append(e.render()),o+=n.get("calories")},this),$("#totalCalories").text(Math.round(100*o)/100))}})},{"./myFoodItemView":6}],9:[function(e,t,o){var i=e("./main"),n=e("./collections").Foods,r=e("./collections").MyFoods,s=e("./searchBoxView"),a=e("./searchResultView"),l=e("./myFoodsHeaderView"),d=e("./myFoodsView");i.foods=new n,i.myFoods=new r,i.searchBoxView=new s,i.searchResultView=new a({collection:i.foods}),i.myFoodsHeaderView=new l,i.myFoodsView=new d({collection:i.myFoods}),t.exports=Backbone.Router.extend({routes:{"":"search",myfoods:"myfoods"},search:function(){i.searchBoxView.render(),i.foods.reset(),i.searchResultView.render()},myfoods:function(){i.myFoodsHeaderView.render(),i.myFoodsView.render()}})},{"./collections":1,"./main":4,"./myFoodsHeaderView":7,"./myFoodsView":8,"./searchBoxView":10,"./searchResultView":11}],10:[function(e,t,o){var i=e("./helpers"),n=e("./models"),r=e("./main"),s=document.getElementById("error");t.exports=Backbone.View.extend({el:$("#main"),initialize:function(){this.render()},events:{"submit form":"fetchData"},fetchData:function(e){e.preventDefault();var t=this,o=$(e.currentTarget).find("input[type=text]").val().trim(),a=o.replace(/ /g,"%20"),l="https://api.nutritionix.com/v1_1/search/"+a+"?results=0%3A20&cal_min=0&cal_max=50000&fields=item_name%2Citem_id%2Cbrand_name%2Cnf_calories%2Cnf_total_fat&appId=b301fa4c&appKey=dc12f0d56ee2507d0393345103cb64fa";0===o.length?i.displayErrorToUser(s,"Type a food keyword please ...",2e3):$.ajax({type:"GET",url:l,dataType:"JSON",success:function(e){if(r.foods.reset(),e&&e.hits.length>0)for(var o,a,l,d,c,m,f,h=0;e.hits.length>h;h++)o=e.hits[h].fields.item_id,a=e.hits[h].fields.brand_name,l=e.hits[h].fields.item_name,d=e.hits[h].fields.nf_calories,c=e.hits[h].fields.nf_serving_size_qty,m=e.hits[h].fields.nf_serving_size_unit,f=e.hits[h].fields.nf_total_fat||"N/A",r.food=new n({id:o,brandName:a,itemName:l,calories:d,servingSize:c,servingUnit:m,totalFat:f}),r.foods.add(r.food);else i.displayErrorToUser(s,"No Result with the keyword...",2e3);t.render()},error:function(){i.displayErrorToUser(s,"Error on fetching data...",2e3)}})},render:function(){var e=_.template($("#search-page-template").html());this.$el.html(e)}})},{"./helpers":3,"./main":4,"./models":5}],11:[function(e,t,o){var i=e("./foodItemView");t.exports=Backbone.View.extend({el:$("#resultList"),initialize:function(){this.listenTo(this.collection,"add remove",this.render)},render:function(){this.$el.empty();var e,t=this;_(this.collection.models).each(function(o){e=new i({model:o}),t.$el.append(e.render())},this)}})},{"./foodItemView":2}]},{},[4]);